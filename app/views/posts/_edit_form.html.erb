<%= form_with(model: post) do |form| %>
  <% if post.errors.any? %>
    <div class='error-message'>
      <h2><%= pluralize(post.errors.count, "error") %> prohibited this post from being saved:</h2>

      <ul>
        <% post.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class='post'>
    <div class='post__user'>
      <div class='profile-img profile-img-small'></div>
      <div class='post__user-name'>
        <%= link_to post.user.first_name, user_path(post.user), style:'color: var(--color-text-header);' %>
        <%= link_to post.user.last_name, user_path(post.user), style:'color: var(--color-text-header);' %>
        <div class='post__date'>
          <%= time_ago_in_words(post.created_at) %>
        </div>
      </div>
    </div>

    <div class='post__body'>
      <%= form.text_field :body, :required => 'required', class:'post-form__input' %>
    </div>

    <div style='width: 100%; display: flex; justify-content: flex-end; padding: 1rem;'>
      <%= form.submit 'Submit', class:'btn btn--secondary btn--fitted' %>
    </div>
  </div>

<% end %>
